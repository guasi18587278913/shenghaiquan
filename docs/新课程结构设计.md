# 深海圈新课程结构设计

## 基于实际内容的结构调整

### 1. 简化数据结构

从原来的4层结构简化为2层：
- **篇章（Section）** → **课时（Lesson）**
- 去掉中间的"课程"和"章节"层级

### 2. 课程篇章设计

```
前言（免费预览）
├── 这套课程有什么不同？
├── 你要学什么？
└── 学习门槛说明

基础篇 - 10分钟搞定产品雏形（2小时视频）
├── 第1课：选择你的第一个产品idea
├── 第2课：使用Cursor快速开发
├── 第3课：部署你的第一个产品
├── 第4课：获取第一批用户
└── 第5课：收集反馈并迭代

认知篇 - 海外软件生意认知体系（3小时文档）
├── 第1课：什么是MicroSaaS
├── 第2课：如何寻找利基市场
├── 第3课：定价策略
├── 第4课：用户获取渠道
└── 第5课：产品迭代思维

内功篇 - 补齐技术原理（选修）
├── 第1课：NextJS核心概念
├── 第2课：数据库设计基础
├── 第3课：API设计原理
├── 第4课：前端框架原理
└── 第5课：部署和运维

进阶篇 - 从MVP到商业闭环
├── 第1课：集成支付系统
├── 第2课：用户系统设计
├── 第3课：数据分析和优化
├── 第4课：规模化运营
└── 第5课：团队协作

直播回放（独立板块）
├── 产品选品直播
├── 技术答疑直播
└── 案例分析直播
```

### 3. 页面设计理念

#### 课程总览页
- 清晰展示学习路径图（参考原文档的学习地图）
- 突出"四步学习+2个作品"的核心理念
- 显示每个篇章的学习时长和形式（视频/文档）

#### 课程详情页
- 左侧：简洁的课时列表
- 右侧：内容展示区（支持视频、Markdown文档）
- 顶部：进度条和学习统计
- 底部：作业提交和讨论区

### 4. 特色功能

1. **学习路径引导**
   - 强制完成基础篇才能解锁后续内容
   - 清晰的学习进度展示

2. **实战作品展示**
   - 学员作品集展示
   - 成功案例分享

3. **社群功能**
   - 微信群二维码（年度会员专享）
   - 课程讨论区

4. **内容保护**
   - 视频：使用腾讯云点播加密
   - 文档：禁用复制、添加水印
   - 访问控制：年度会员验证

### 5. 简化后的数据模型

```prisma
// 课程篇章
model Section {
  id          String   @id @default(cuid())
  title       String   // 前言/基础篇/认知篇等
  slug        String   @unique
  description String?
  order       Int
  icon        String?  // 篇章图标
  duration    String?  // 预计学习时长
  type        String   // video/document/mixed
  isFree      Boolean  @default(false)
  
  lessons     Lesson[]
}

// 课时
model Lesson {
  id          String   @id @default(cuid())
  title       String
  slug        String   
  content     String?  @db.Text
  videoUrl    String?  // 视频地址
  duration    Int?     // 视频时长(秒)
  type        String   // video/document
  order       Int
  
  sectionId   String
  section     Section  @relation(fields: [sectionId], references: [id])
  
  progress    Progress[]
  
  @@unique([sectionId, slug])
}

// 直播回放（独立模块）
model LiveReplay {
  id          String   @id @default(cuid())
  title       String
  category    String   // 产品选品/技术答疑/案例分析
  videoUrl    String
  duration    Int
  liveDate    DateTime
  presenter   String
}
```

### 6. 导入数据格式简化

```json
{
  "sections": [
    {
      "title": "前言",
      "slug": "preface",
      "description": "了解课程核心理念",
      "type": "document",
      "duration": "30分钟",
      "isFree": true,
      "lessons": [
        {
          "title": "这套课程有什么不同？",
          "slug": "introduction",
          "type": "document",
          "content": "# 这套课程有什么不同？\n\n第1个不同：通过AI做软件产品生意...",
          "order": 1
        }
      ]
    },
    {
      "title": "基础篇",
      "slug": "basic",
      "description": "10分钟搞定产品雏形",
      "type": "video",
      "duration": "2小时",
      "isFree": false,
      "lessons": [
        {
          "title": "选择你的第一个产品idea",
          "slug": "first-idea",
          "type": "video",
          "videoUrl": "",
          "duration": 600,
          "content": "课程笔记和补充材料...",
          "order": 1
        }
      ]
    }
  ],
  "liveReplays": [
    {
      "title": "如何选择AI产品方向",
      "category": "product-selection",
      "videoUrl": "",
      "duration": 3600,
      "liveDate": "2025-01-20T20:00:00Z",
      "presenter": "刘小排"
    }
  ]
}