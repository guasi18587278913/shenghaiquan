# 配置本地连接远程数据库

## 方案1：连接远程数据库（推荐）

已经创建了 `.env.local` 文件，配置了远程数据库连接。

### 使用步骤：

1. **重启开发服务器**：
```bash
# 先停止服务器 (Ctrl+C)
# 然后重新启动
npm run dev
```

2. **验证连接**：
- 访问 http://localhost:3000/members
- 应该能看到905个用户

### 注意事项：
- 本地开发会直接操作服务器数据库
- 建议只做查询操作，避免误删数据
- 如果网络不稳定，可能会有延迟

## 方案2：同步数据到本地（备选）

如果远程连接太慢，可以定期同步数据到本地：

### 创建同步脚本 `scripts/sync-from-server.js`：

```javascript
const { PrismaClient } = require('@prisma/client');

// 远程数据库
const remotePrisma = new PrismaClient({
  datasources: {
    db: {
      url: "postgresql://guasi:Scys-0418@111.231.19.162:5432/deepsea"
    }
  }
});

// 本地数据库
const localPrisma = new PrismaClient();

async function syncData() {
  try {
    console.log('开始同步数据...');
    
    // 同步用户数据
    const users = await remotePrisma.user.findMany();
    console.log(`找到 ${users.length} 个用户`);
    
    // 清空本地用户
    await localPrisma.user.deleteMany();
    
    // 批量创建
    for (const user of users) {
      await localPrisma.user.create({
        data: user
      });
    }
    
    console.log('✅ 用户数据同步完成');
    
    // 同步其他数据...
    // const posts = await remotePrisma.post.findMany();
    // ...
    
  } catch (error) {
    console.error('同步失败:', error);
  } finally {
    await remotePrisma.$disconnect();
    await localPrisma.$disconnect();
  }
}

syncData();
```

### 运行同步：
```bash
node scripts/sync-from-server.js
```

## 方案3：创建测试数据（最简单）

如果只是为了开发UI，可以创建一些测试数据：

```bash
# 运行种子脚本
npx prisma db seed
```

## 推荐使用方案1

直接连接远程数据库最简单，已经配置好了。重启服务器就能看到真实数据。