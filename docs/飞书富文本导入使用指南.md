# 飞书富文本导入使用指南

## 🚀 新功能：完美支持飞书图文混合内容

我们已经升级了飞书文档导入功能，现在可以完美保留飞书文档的格式和图片！

## 使用步骤

### 1. 访问导入页面
```
http://localhost:3000/admin/courses/import-feishu
```

### 2. 从飞书复制内容

#### 方式一：直接复制粘贴（推荐）
1. 在飞书文档中选中要导入的内容（包含文字和图片）
2. 复制（Ctrl+C / Cmd+C）
3. 在编辑器中粘贴（Ctrl+V / Cmd+V）
4. **格式和图片会自动保留！**

#### 方式二：拖拽图片
- 如果有本地图片，可以直接拖拽到编辑器中
- 图片会自动上传到腾讯云COS

### 3. 富文本编辑器功能

新的编辑器支持：
- ✅ **保留飞书格式**：标题、列表、代码块等
- ✅ **自动处理图片**：粘贴的图片自动上传
- ✅ **实时预览**：所见即所得
- ✅ **工具栏操作**：可以进一步编辑格式

### 4. 处理视频内容

如果课程包含视频：
1. 先将视频上传到腾讯云VOD
2. 获取FileId
3. 在"视频设置"中填入FileId和时长

## 示例流程

以你的"玩起来！通过AI，10分钟发布你的第一款网站产品！"为例：

### 步骤1：设置章节
- 章节标题：基础篇
- URL标识：basics
- 章节描述：快速上手AI编程

### 步骤2：添加课时
1. 点击"+"添加新课时
2. 填写标题："1.1 玩起来！通过AI，10分钟发布你的第一款网站产品！"
3. 选择类型："视频+文档"
4. 设置为"免费试看"

### 步骤3：粘贴内容
1. 从飞书复制包含图文的内容
2. 直接粘贴到编辑器
3. 看到内容和图片都正确显示

### 步骤4：关联视频
- 填入腾讯云VOD的FileId
- 填写视频时长（秒）

### 步骤5：预览并导入
- 检查内容显示是否正确
- 点击"确认导入"

## 技术说明

### 图片处理流程
1. 检测到粘贴的图片
2. 自动提取图片数据
3. 上传到腾讯云COS
4. 返回云端URL
5. 替换本地图片链接

### 格式转换
- 自动清理飞书特有的样式
- 保留语义化的HTML结构
- 转换为适合展示的格式

## 常见问题

**Q: 为什么有些格式丢失了？**
A: 编辑器会保留主要的格式（标题、列表、代码块等），但会移除飞书特有的样式，以确保在网站上的显示效果一致。

**Q: 图片上传失败怎么办？**
A: 检查：
1. 网络连接是否正常
2. 图片大小是否超过5MB
3. 图片格式是否支持（JPG/PNG/WebP）

**Q: 可以批量导入多个课时吗？**
A: 目前需要逐个课时导入，但你可以：
1. 先在飞书整理好所有内容
2. 按课时复制粘贴
3. 批量操作会更快

**Q: 导入后如何修改？**
A: 导入后可以在课程管理页面继续编辑，支持实时修改和预览。

## 最佳实践

1. **内容准备**
   - 在飞书中按课时组织好内容
   - 确保图片清晰度适中（不要太大）
   - 代码示例使用代码块格式

2. **导入顺序**
   - 先导入一个测试课时
   - 确认效果后再批量导入
   - 按章节顺序导入

3. **视频处理**
   - 提前批量上传视频到VOD
   - 记录好每个视频的FileId
   - 统一命名规范

需要帮助？随时联系技术支持！