# æ·±æµ·åœˆè¯¾ç¨‹å†…å®¹ä¿æŠ¤æ–¹æ¡ˆå¯¹æ¯”

## ğŸ˜” å½“å‰é—®é¢˜
- WordPresså†…å®¹URLæ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½èƒ½è®¿é—®
- æ— æ³•ä¿æŠ¤ä»˜è´¹å†…å®¹
- ç¼ºä¹ç”¨æˆ·æƒé™éªŒè¯

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼ˆæŒ‰åŒ¹é…åº¦æ’åºï¼‰

### 1. ğŸ¥‡ **è…¾è®¯äº‘ç‚¹æ’­ + ç§æœ‰åŒ–å­˜å‚¨**ã€æœ€æ¨èã€‘

**ä¸ºä»€ä¹ˆæœ€é€‚åˆæ‚¨ï¼š**
- âœ… å®Œç¾è§£å†³å†…å®¹ä¿æŠ¤é—®é¢˜
- âœ… ä¸æ‚¨ç°æœ‰çš„è…¾è®¯äº‘ç”Ÿæ€å…¼å®¹
- âœ… å›½å†…è®¿é—®é€Ÿåº¦å¿«

**å…·ä½“å®ç°ï¼š**
```javascript
// è§†é¢‘ï¼šä½¿ç”¨è…¾è®¯äº‘VODçš„é˜²ç›—é“¾
// å›¾æ–‡ï¼šå­˜å‚¨åœ¨ç§æœ‰COS + é€šè¿‡APIéªŒè¯åè®¿é—®

// 1. ä¸Šä¼ åˆ°ç§æœ‰å­˜å‚¨
const uploadToCOS = async (file) => {
  // ä¸Šä¼ åˆ°ç§æœ‰Bucket
  const url = await cos.putObject({
    Bucket: 'private-course-bucket',
    ACL: 'private', // ç§æœ‰æƒé™
    Key: `courses/${courseId}/${file.name}`
  });
}

// 2. é€šè¿‡APIè·å–ä¸´æ—¶è®¿é—®é“¾æ¥
app.get('/api/course-content/:id', requireAuth, async (req, res) => {
  // éªŒè¯ç”¨æˆ·æ˜¯å¦è´­ä¹°è¯¾ç¨‹
  const hasPurchased = await checkUserPurchase(userId, courseId);
  
  if (hasPurchased) {
    // ç”Ÿæˆ30åˆ†é’Ÿæœ‰æ•ˆçš„ä¸´æ—¶URL
    const tempUrl = cos.getObjectUrl({
      Bucket: 'private-course-bucket',
      Key: contentKey,
      Expires: 1800
    });
    res.json({ url: tempUrl });
  }
});
```

**æˆæœ¬ï¼š**
- VODï¼šæŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦
- COSï¼šå­˜å‚¨è´¹ç”¨å¾ˆä½ï¼Œ1GBçº¦0.1å…ƒ/æœˆ

---

### 2. ğŸ¥ˆ **Teachable æˆ– Thinkific**ã€æœ€çœå¿ƒã€‘

**ä¸ºä»€ä¹ˆé€‚åˆï¼š**
- âœ… ä¸“ä¸šçš„åœ¨çº¿è¯¾ç¨‹å¹³å°
- âœ… å†…ç½®å®Œæ•´çš„å†…å®¹ä¿æŠ¤
- âœ… é›¶å¼€å‘ï¼Œç«‹å³å¯ç”¨

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- è§†é¢‘é˜²ä¸‹è½½ã€é˜²å½•å±
- å†…å®¹åŠ å¯†ä¼ è¾“
- å­¦ä¹ è¿›åº¦è·Ÿè¸ª
- å†…ç½®æ”¯ä»˜ç³»ç»Ÿ

**é›†æˆæ–¹å¼ï¼š**
```javascript
// ä½¿ç”¨SSOå•ç‚¹ç™»å½•é›†æˆ
// ç”¨æˆ·åœ¨æ·±æµ·åœˆç™»å½•åï¼Œè‡ªåŠ¨ç™»å½•Teachable

const teachableSSO = {
  email: user.email,
  name: user.name,
  timestamp: Date.now(),
  signature: generateHMAC(secret, data)
};

// é‡å®šå‘åˆ°Teachable
redirect(`https://your-school.teachable.com/sso/login?${params}`);
```

**æˆæœ¬ï¼š**
- Basic: $39/æœˆ
- Pro: $119/æœˆï¼ˆæ¨èï¼Œæœ‰æ›´å¥½çš„å†…å®¹ä¿æŠ¤ï¼‰

---

### 3. ğŸ¥‰ **å°é¹…é€š**ã€å›½å†…ä¸“ä¸šã€‘

**ä¸ºä»€ä¹ˆé€‚åˆï¼š**
- âœ… å›½å†…ä¸»æµçŸ¥è¯†ä»˜è´¹å¹³å°
- âœ… å¾®ä¿¡ç”Ÿæ€æ·±åº¦é›†æˆ
- âœ… å®Œå–„çš„ç‰ˆæƒä¿æŠ¤

**ç‰¹è‰²åŠŸèƒ½ï¼š**
- è§†é¢‘æŒ‡çº¹æŠ€æœ¯
- åŠ¨æ€æ°´å°
- é˜²å½•å±
- æ”¯æŒå°ç¨‹åº

**é›†æˆæ–¹å¼ï¼š**
```javascript
// é€šè¿‡APIåŒæ­¥ç”¨æˆ·å’Œè¯¾ç¨‹
const xiaoetong = new XiaoETongSDK({
  appId: 'your-app-id',
  appSecret: 'your-secret'
});

// åˆ›å»ºç”¨æˆ·
await xiaoetong.createUser({
  user_id: user.id,
  nickname: user.name,
  avatar: user.avatar
});

// æˆæƒè¯¾ç¨‹
await xiaoetong.grantCourse({
  user_id: user.id,
  resource_id: courseId
});
```

**æˆæœ¬ï¼š**
- æ ‡å‡†ç‰ˆï¼š4800å…ƒ/å¹´
- ä¸“ä¸šç‰ˆï¼š7200å…ƒ/å¹´

---

### 4. ğŸ’¡ **è‡ªå»ºæ–¹æ¡ˆï¼šåŠ å¯†å†…å®¹æœåŠ¡å™¨**

**å®ç°æ€è·¯ï¼š**
```javascript
// 1. å†…å®¹å­˜å‚¨åœ¨æœåŠ¡å™¨ç§æœ‰ç›®å½•
// 2. é€šè¿‡Node.jsæµå¼ä¼ è¾“

app.get('/api/protected-content/:id', requireAuth, async (req, res) => {
  const content = await Content.findById(req.params.id);
  
  // éªŒè¯æƒé™
  if (!await hasAccess(req.user.id, content.courseId)) {
    return res.status(403).send('Forbidden');
  }
  
  // æµå¼ä¼ è¾“æ–‡ä»¶
  const filePath = path.join(PRIVATE_DIR, content.path);
  const stream = fs.createReadStream(filePath);
  
  res.setHeader('Content-Type', content.mimeType);
  res.setHeader('Cache-Control', 'no-store'); // ç¦æ­¢ç¼“å­˜
  
  stream.pipe(res);
});

// å‰ç«¯é…åˆ
<video 
  src="/api/protected-content/video-123"
  controlsList="nodownload" // ç¦ç”¨ä¸‹è½½æŒ‰é’®
/>
```

---

## ğŸ­ ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼ˆç«‹å³å¯ç”¨ï¼‰

å¦‚æœæ‚¨æƒ³å…ˆè§£å†³WordPressçš„é—®é¢˜ï¼š

### 1. **ä½¿ç”¨WordPressä¼šå‘˜æ’ä»¶**
```bash
# å®‰è£…æ’ä»¶
- MemberPress
- Restrict Content Pro
- WP Private Content Plus

# é…ç½®å†…å®¹ä¿æŠ¤
- è®¾ç½®è¯¾ç¨‹é¡µé¢ä¸ºä¼šå‘˜ä¸“å±
- é€šè¿‡APIåŒæ­¥æ·±æµ·åœˆç”¨æˆ·åˆ°WordPress
```

### 2. **WordPress + æ·±æµ·åœˆè®¤è¯**
```php
// åœ¨WordPressä¸­éªŒè¯æ·±æµ·åœˆç”¨æˆ·
function verify_deepsea_user() {
    $token = $_GET['token'];
    
    // è°ƒç”¨æ·±æµ·åœˆAPIéªŒè¯
    $response = wp_remote_get('https://deepsea.com/api/verify', [
        'headers' => ['Authorization' => 'Bearer ' . $token]
    ]);
    
    if (is_valid_user($response)) {
        // å…è®¸è®¿é—®
        return true;
    }
    
    // é‡å®šå‘åˆ°ç™»å½•
    wp_redirect('https://deepsea.com/login');
}
```

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”è¡¨

| æ–¹æ¡ˆ | å†…å®¹ä¿æŠ¤ | å¼€å‘æˆæœ¬ | æœˆè´¹ç”¨ | ç”¨æˆ·ä½“éªŒ | æ¨èæŒ‡æ•° |
|------|---------|---------|--------|---------|----------|
| è…¾è®¯äº‘VOD+COS | â­â­â­â­â­ | ä¸­ | æŒ‰é‡ä»˜è´¹ | â­â­â­â­ | â­â­â­â­â­ |
| Teachable | â­â­â­â­â­ | ä½ | $119 | â­â­â­â­â­ | â­â­â­â­ |
| å°é¹…é€š | â­â­â­â­â­ | ä½ | Â¥600 | â­â­â­â­ | â­â­â­â­ |
| è‡ªå»ºåŠ å¯† | â­â­â­â­ | é«˜ | æœåŠ¡å™¨è´¹ç”¨ | â­â­â­ | â­â­â­ |
| WordPressæ’ä»¶ | â­â­â­ | ä½ | $20-50 | â­â­â­ | â­â­ |

---

## ğŸš€ æˆ‘çš„å»ºè®®

**çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰ï¼š**
1. ä½¿ç”¨è…¾è®¯äº‘COSç§æœ‰å­˜å‚¨ + ä¸´æ—¶URL
2. é…åˆæ‚¨ç°æœ‰çš„Next.jsåšæƒé™éªŒè¯
3. æˆæœ¬ä½ï¼Œå®ç°å¿«

**é•¿æœŸï¼ˆ1-2æœˆï¼‰ï¼š**
1. è€ƒè™‘Teachableæˆ–å°é¹…é€š
2. ä¸“ä¸šçš„è¯¾ç¨‹å¹³å°ï¼ŒåŠŸèƒ½å®Œå–„
3. å¯ä»¥ä¸“æ³¨äºå†…å®¹åˆ›ä½œ

éœ€è¦æˆ‘å¸®æ‚¨å®ç°å“ªä¸ªæ–¹æ¡ˆï¼Ÿ