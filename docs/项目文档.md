# 深海圈项目文档

## 项目概述

深海圈是一个面向海外AI产品开发的在线教育社区平台，旨在帮助开发者学习AI产品开发、出海经验，并提供社区交流功能。

### 核心功能
- 📚 **课程学习**: 16万字精品课程内容，涵盖AI产品开发全流程
- 👥 **社区交流**: 908名付费学员的活跃社区
- 🗺️ **地图展示**: 可视化展示全球学员分布
- 📅 **活动日历**: 线上直播、线下聚会等活动管理
- 📰 **资讯中心**: AI行业动态、产品案例分享

## 技术栈

- **前端**: Next.js 14 (App Router) + TypeScript + Tailwind CSS
- **UI组件**: shadcn/ui + Radix UI
- **后端**: Next.js API Routes + Prisma ORM
- **数据库**: SQLite (开发) / PostgreSQL (生产)
- **认证**: NextAuth.js
- **地图**: ECharts
- **部署**: Vercel / 自建服务器

## 项目结构

```
deep-sea-circle/
├── app/                    # Next.js 14 App Router
│   ├── (auth)/            # 认证相关页面
│   ├── (dashboard)/       # 主要功能页面
│   │   ├── calendar/      # 活动日历
│   │   ├── community/     # 社区动态
│   │   ├── courses/       # 课程中心
│   │   ├── map/          # 地图展示
│   │   ├── members/       # 成员列表
│   │   └── news/         # 资讯中心
│   └── api/              # API路由
├── components/            # React组件
├── lib/                  # 工具函数和配置
├── prisma/               # 数据库模型
├── public/               # 静态资源
├── scripts/              # 数据处理脚本
└── data/                 # 原始数据文件
```

## 数据统计

### 用户数据
- **总用户数**: 908人（全部来自CSV导入）
- **数据准确性**: 100%
- **城市分布TOP5**:
  - 其他: 183人 (20.2%)
  - 深圳: 118人 (13.0%)
  - 北京: 99人 (10.9%)
  - 上海: 83人 (9.1%)
  - 广州: 77人 (8.5%)

### 数据质量
- **Bio完整度**: 74.8% (229人未填写)
- **Skills完整度**: 61.3% (351人未填写)
- **Company字段**: 346人使用默认值或未填写
- **Position字段**: 580人使用默认值或未填写

## 已完成功能

### 1. 基础架构 ✅
- Next.js 14项目初始化
- Prisma数据库配置
- 认证系统集成
- 基础页面路由

### 2. 用户数据管理 ✅
- CSV数据导入（904条记录）
- 数据准确性验证（100%）
- 缺失数据补充
- API数据优化

### 3. 核心页面开发 ✅
- **成员页面**: 分页、搜索、城市筛选
- **地图页面**: 城市分布可视化、交互展示
- **社区页面**: 动态展示（模拟数据）
- **课程页面**: 课程列表（待完善）
- **日历页面**: 活动展示（待完善）
- **资讯页面**: 文章列表（待完善）

### 4. API接口 ✅
- `/api/users`: 用户列表（支持搜索、分页、筛选）
- `/api/users/by-city`: 城市用户查询
- `/api/users/by-name`: 用户详情
- `/api/users/locations`: 位置统计

### 5. 数据处理工具 ✅
- 批量导入脚本
- 数据质量检查
- 批量更新工具
- 数据修复脚本

## 待开发功能

### 高优先级 🔴
1. **课程内容导入**: 16万字课程内容的结构化导入
2. **视频播放功能**: 集成视频播放器，支持进度记录
3. **真实动态数据**: 替换模拟数据为真实社区动态

### 中优先级 🟡
1. **管理后台**: 内容管理、用户管理
2. **种子内容**: 准备初始帖子、评论等
3. **搜索优化**: 全站搜索功能
4. **通知系统**: 站内信、邮件通知

### 低优先级 🟢
1. **数据分析**: 用户行为分析面板
2. **付费功能**: 课程付费、会员体系
3. **移动端优化**: 响应式改进
4. **国际化**: 多语言支持

## 部署计划

### 第一阶段：内测版本
- 目标：核心功能可用
- 时间：1-2周
- 重点：课程内容、视频播放

### 第二阶段：公测版本
- 目标：社区功能完善
- 时间：3-4周
- 重点：动态发布、互动功能

### 第三阶段：正式上线
- 目标：稳定运行
- 时间：5-6周
- 重点：性能优化、用户体验

## 开发规范

### 代码规范
- 使用TypeScript严格模式
- 遵循ESLint规则
- 组件使用函数式组件
- 样式使用Tailwind CSS

### Git提交规范
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式
- refactor: 重构
- test: 测试
- chore: 构建过程

### 数据处理规范
- 所有用户数据来源必须可追溯
- 批量操作前必须备份
- 更新操作需要生成报告
- 敏感信息不得提交到代码库

## 维护指南

### 日常维护
1. 定期备份数据库
2. 监控错误日志
3. 更新依赖包
4. 优化查询性能

### 数据更新
1. 使用批量更新脚本
2. 先预览再执行
3. 保留更新记录
4. 验证数据准确性

### 问题排查
1. 检查浏览器控制台
2. 查看服务器日志
3. 验证API响应
4. 数据库查询分析

## 相关文档

- [批量更新使用说明](./scripts/批量更新使用说明.md)
- [数据导入记录](./data-import-logs/)
- [API文档](./docs/api.md)
- [部署文档](./docs/deployment.md)